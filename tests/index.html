<!DOCTYPE html>
<html lang="en">

<head>
  <style>
    [aria-hidden="true"] {
      display: none;
    }
  </style>
  <meta charset="utf-8">
  <title>A11y Dialog Tests</title>
  <link href="https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.css" rel="stylesheet"
  />
</head>

<body>
  <div id="mocha"></div>

  <div class="test-suite">

    <div class="test" id="test-CONSTRUCTOR">
      <div class="main target">Main</div>
      <div class="dialog">
        <dialog></dialog>
      </div>
    </div>

    <div class="test" id="test-NO_DIALOG">
      <div class="main target">Main</div>
      <div class="dialog">
        <div role="dialog"></div>
      </div>
    </div>

    <div class="test" id="test-FIRING_EVENTS">
      <div class="main target">Main</div>
      <div class="dialog">
        <dialog></dialog>
      </div>
    </div>

    <div class="test" id="test-LISTENING_EVENTS">
      <div class="main target">Main</div>
      <div class="dialog">
        <dialog></dialog>
      </div>
    </div>

    <div class="test" id="test-KEY_PRESSES">
      <div class="main target">Main</div>
      <div class="dialog">
        <dialog>
          <h1 class="dialog-title" tabindex="0">Dialog Title</h1>
          <button class="close-button" data-a11y-dialog-hide>&times;</button>
        </dialog>
      </div>
    </div>

    <div class="test" id="test-KEY_PRESSES_ALERTDIALOG">
      <div class="main target">Main</div>
      <div class="dialog">
        <dialog role='alertdialog'>
          <h1 class="dialog-title" tabindex="0">Dialog Title</h1>
          <button class="close-button" data-a11y-dialog-hide>&times;</button>
        </dialog>
      </div>
    </div>

    <div class="test" id="test-CREATE">
      <div class="main target">
        <button data-a11y-dialog-show="dialog-CREATE">Open</button>
      </div>
      <div class="dialog" id="dialog-CREATE" aria-hidden="true">
        <dialog>
          <button data-a11y-dialog-hide>Close</button>
        </dialog>
      </div>
    </div>

    <div class="test" id="test-SHOW">
      <div class="main target">
        <button data-a11y-dialog-show="dialog-SHOW">Open</button>
      </div>
      <div class="dialog" id="dialog-SHOW">
        <dialog>
          <button data-a11y-dialog-hide>Close</button>
        </dialog>
      </div>
      <div class="secondary target"></div>
    </div>

    <div class="test" id="test-SHOW-SIBLINGS">
      <div class="main target">
        <button data-a11y-dialog-show="dialog-SHOW-SIBLINGS">Open</button>
      </div>
      <div class="dialog" id="dialog-SHOW-SIBLINGS">
        <dialog>
          <button data-a11y-dialog-hide>Close</button>
        </dialog>
      </div>
      <div class="secondary alreadyhidden target" aria-hidden="true"></div>
    </div>

    <div class="test" id="test-HIDE">
      <div class="main target">
        <button data-a11y-dialog-show="dialog-HIDE">Open</button>
      </div>
      <div class="dialog" id="dialog-HIDE">
        <dialog>
          <button data-a11y-dialog-hide>Close</button>
        </dialog>
      </div>
    </div>

    <div class="test" id="test-HIDE-SIBLINGS">
      <div class="main target">
        <button data-a11y-dialog-show="dialog-HIDE-SIBLINGS">Open</button>
      </div>
      <div class="dialog" id="dialog-HIDE-SIBLINGS">
        <dialog>
          <button data-a11y-dialog-hide>Close</button>
        </dialog>
      </div>
      <div class="alreadyhidden target" aria-hidden="true"></div>
    </div>

    <div class="test" id="test-DESTROY">
      <div class="main target">
        <button data-a11y-dialog-show="dialog-DESTROY">Open</button>
      </div>
      <div class="dialog" id="dialog-DESTROY">
        <dialog>
          <button data-a11y-dialog-hide>Close</button>
        </dialog>
      </div>
    </div>
  </div>

  <script src="../a11y-dialog.js"></script>
  <script src="https://cdn.rawgit.com/mochajs/mocha/2.2.5/mocha.js"></script>
  <script src="https://cdn.rawgit.com/Automattic/expect.js/0.3.1/index.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/sinon.js/5.0.0/sinon.min.js"></script>
  <script>mocha.setup('bdd')</script>
  <script src="./index.js"></script>
  <script>
    mocha.run();
  </script>
</body>

</html>
